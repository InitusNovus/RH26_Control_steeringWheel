/*
 * FloatSeperation.c
 *
 *  Created on: 2019. 7. 8.
 *      Author: bigbi_000
 */


/******************************************************************************/
/*----------------------------------Includes----------------------------------*/
/******************************************************************************/
#include "HLD.h"
#include <math.h>
/******************************************************************************/
/*-----------------------------------Macros-----------------------------------*/
/******************************************************************************/

/******************************************************************************/
/*--------------------------------Enumerations--------------------------------*/
/******************************************************************************/


/******************************************************************************/
/*-----------------------------Data Structures--------------------------------*/
/******************************************************************************/


/******************************************************************************/
/*------------------------------Global variables------------------------------*/
/******************************************************************************/


/******************************************************************************/
/*-------------------------Function Prototypes--------------------------------*/
/******************************************************************************/


/******************************************************************************/
/*------------------------Private Variables/Constants-------------------------*/
/******************************************************************************/


/******************************************************************************/
/*-------------------------Function Implementations---------------------------*/
/******************************************************************************/
boolean pos = TRUE;
sint32 intpart;
uint32 fracpart;
void Separate_int_frac (sint32* intPart, uint32* fracPart, float32 num, uint32 roundnum)
{
	boolean negative = 0;
	if(num < 0)
	{
		num = - num;
		negative = TRUE;
	}
	else
		negative = FALSE;
//	test_num = num;

	intpart = (sint32) num;
	if(negative == FALSE)
		//		intpart = (SINT_32) num;
		pos = TRUE;
	else
		//		intpart = -((SINT_32)num);
		pos = FALSE;
	//	if(negative == FALSE)
	//	fracpart = floor((((num-intpart))*pow(10,roundnum))+0.5);
	//	else
	//		fracpart = floor((((num+intpart))*pow(10,roundnum))+0.5);
	fracpart = floor((((num-intpart))*pow(10,roundnum))+0.5);

	if(fracpart == pow(10,roundnum))
	{
		++intpart;
		fracpart = 0;
	}

	*intPart = intpart;
	*fracPart = fracpart;
}
